---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import SponsorGrid from '../components/SponsorGrid.astro';
import TracksList from '../components/TracksList.astro';
---

<Layout>
  <Header />

  <!-- Hero Section -->
  <section class="relative py-24 md:py-32 overflow-hidden bg-gradient-to-br from-devfest-blue via-white to-devfest-green">
    <!-- Colorful geometric shapes -->
    <div class="absolute inset-0 overflow-hidden opacity-20">
      <div class="absolute top-0 left-0 w-96 h-96 bg-devfest-red rounded-full blur-3xl"></div>
      <div class="absolute top-1/4 right-0 w-80 h-80 bg-devfest-yellow rounded-full blur-3xl"></div>
      <div class="absolute bottom-0 left-1/3 w-72 h-72 bg-devfest-blue rounded-full blur-3xl"></div>
      <div class="absolute bottom-1/4 right-1/4 w-64 h-64 bg-devfest-green rounded-full blur-3xl"></div>
    </div>

    <!-- Colorful accent bars (Google style) -->
    <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-devfest-blue via-devfest-red via-devfest-yellow to-devfest-green"></div>
    
    <div class="container mx-auto px-6 text-center relative z-10">
      <div class="bg-white/80 backdrop-blur-xl rounded-google-xl shadow-material-3 p-8 md:p-12 max-w-5xl mx-auto border border-white/50">
        <h1 class="text-5xl md:text-7xl font-bold mb-6 font-google-sans-display">
          <span class="text-devfest-blue">Dev</span><span class="text-devfest-red">Fest</span> <span class="text-devfest-green">Roma</span> <span class="text-devfest-yellow">2025</span>
        </h1>
        <p class="text-xl md:text-2xl mb-10 max-w-3xl mx-auto text-google-grey-700 font-medium">
          La prima DevFest powered by GDG Roma Citt√†
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-10">
          <div class="bg-devfest-blue/10 backdrop-blur-sm rounded-google-lg shadow-material-1 px-6 py-4 border-2 border-devfest-blue/30 flex items-center gap-3">
            <a 
            href="#location"
            class="flex items-center gap-3 hover:opacity-80 transition-opacity">
            <span class="text-2xl">üìÖ</span>
            <p class="text-lg font-medium text-google-grey-900">25 Ottobre 2025</p>
            </a>
          </div>
          <div class="bg-devfest-red/10 backdrop-blur-sm rounded-google-lg shadow-material-1 px-6 py-4 border-2 border-devfest-red/30 flex items-center gap-3">
            <a 
            href="#location"
            class="flex items-center gap-3 hover:opacity-80 transition-opacity">
            <span class="text-2xl">üìç</span>
            <p class="text-lg font-medium text-google-grey-900">Roma, Italia</p>
            </a>
          </div>
        </div>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a 
            href="#speakers" 
            class="inline-flex items-center justify-center gap-2 bg-white text-devfest-blue border-2 border-devfest-blue font-medium px-8 py-4 rounded-google-lg hover:bg-devfest-blue/10 transition-all shadow-material-1"
          >
            Scopri gli speaker
          </a>
          <a 
            href="https://gdg.community.dev/events/details/google-gdg-roma-citta-presents-devfest-roma-2025/" 
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center justify-center gap-2 bg-devfest-blue text-white font-medium px-8 py-4 rounded-google-lg shadow-material-2 hover:shadow-material-4 transition-all hover:-translate-y-1"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"></path>
            </svg>
            Biglietti
          </a>
          <a 
            href="#tracks" 
            class="inline-flex items-center justify-center gap-2 bg-white text-devfest-blue border-2 border-devfest-blue font-medium px-8 py-4 rounded-google-lg hover:bg-devfest-blue/10 transition-all shadow-material-1"
          >
            Scopri la schedule
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="py-20 bg-google-grey-50">
    <div class="container mx-auto px-6">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-4xl md:text-5xl font-bold text-center mb-4 font-google-sans-display">
          <span class="text-devfest-red">Chi</span>
          <span class="text-devfest-blue"> Siamo</span>
        </h2>
        
        <div class="max-w-none">
          <p class="text-google-grey-700 text-lg md:text-xl mb-12 text-center max-w-3xl mx-auto">
            <strong class="text-google-grey-900">DevFest Roma 2025</strong> √® il primo evento annuale organizzato dal
            <strong class="text-google-grey-900">Google Developer Groups</strong> Roma Citt√†. Un'intera giornata dedicata a sviluppatori, 
            studenti e appassionati di tecnologia.
          </p>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 my-12">
            <div class="text-center p-8 bg-white rounded-google-xl shadow-material-2 hover:shadow-material-3 transition-shadow border border-google-grey-200">
              <div class="text-5xl mb-4">üë•</div>
              <h3 class="text-3xl font-bold text-devfest-blue mb-2">300+</h3>
              <p class="text-google-grey-700 font-medium">Partecipanti</p>
            </div>
            
            <div class="text-center p-8 bg-white rounded-google-xl shadow-material-2 hover:shadow-material-3 transition-shadow border border-google-grey-200">
              <div class="text-5xl mb-4">üé§</div>
              <h3 class="text-3xl font-bold text-devfest-green mb-2">20+</h3>
              <p class="text-google-grey-700 font-medium">Speaker</p>
            </div>
            
            <div class="text-center p-8 bg-white rounded-google-xl shadow-material-2 hover:shadow-material-3 transition-shadow border border-google-grey-200">
              <div class="text-5xl mb-4">üí°</div>
              <h3 class="text-3xl font-bold text-devfest-red mb-2">3</h3>
              <p class="text-google-grey-700 font-medium">Track</p>
            </div>
          </div>

          <div class="bg-white rounded-google-xl shadow-material-2 p-8 md:p-10 border border-google-grey-200">
            <h3 class="text-2xl font-bold text-google-grey-900 mb-6">Durante DevFest avrai l'opportunit√† di:</h3>
            
            <ul class="space-y-4">
              <li class="flex items-start gap-4 group">
                <div class="flex-shrink-0 w-8 h-8 bg-devfest-blue rounded-full flex items-center justify-center text-white font-bold group-hover:scale-110 transition-transform">‚úì</div>
                <span class="text-google-grey-700 text-lg">Ascoltare talk da esperti del settore su AI, Frontend, Backend, Cloud e molto altro</span>
              </li>
              <li class="flex items-start gap-4 group">
                <div class="flex-shrink-0 w-8 h-8 bg-devfest-green rounded-full flex items-center justify-center text-white font-bold group-hover:scale-110 transition-transform">‚úì</div>
                <span class="text-google-grey-700 text-lg">Conoscere gli sponsor</span>
              </li>
              <li class="flex items-start gap-4 group">
                <div class="flex-shrink-0 w-8 h-8 bg-devfest-yellow rounded-full flex items-center justify-center text-white font-bold group-hover:scale-110 transition-transform">‚úì</div>
                <span class="text-google-grey-700 text-lg">Fare networking con professionisti e aziende leader del settore tech</span>
              </li>
              <li class="flex items-start gap-4 group">
                <div class="flex-shrink-0 w-8 h-8 bg-devfest-red rounded-full flex items-center justify-center text-white font-bold group-hover:scale-110 transition-transform">‚úì</div>
                <span class="text-google-grey-700 text-lg">Scoprire le ultime tecnologie e trend del momento</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Tracks Section -->
  <TracksList />

  <!-- Speakers Section -->
  <section id="speakers" class="py-20 bg-white">
    <div class="container mx-auto px-6">
      <div class="text-center mb-12">
        <h2 class="text-4xl md:text-5xl font-bold mb-4 font-google-sans-display">
          <span class="text-devfest-green">I Nostri</span>
          <span class="text-devfest-red"> Speaker</span>
        </h2>
        <p class="text-google-grey-700 text-lg md:text-xl max-w-3xl mx-auto">
          Esperti del settore tech pronti a condividere la loro conoscenza ed esperienza
        </p>
      </div>

      <div class="max-w-7xl mx-auto" id="speakers-container">
        <iframe 
          id="speakers-iframe"
          src="https://sessionize.com/api/v2/od2jlmwc/view/SpeakerWall"
          width="100%"
          class="speakers-iframe"
          scrolling="no"
          loading="lazy"
          title="DevFest Roma 2025 Speakers"
        ></iframe>
      </div>
    </div>
  </section>

  <!-- Sponsors Section -->
  <SponsorGrid />

  <!-- Location & Contact Section -->
  <section id="location" class="py-20 bg-white">
    <div class="container mx-auto px-6">
      <div class="text-center mb-12">
        <h2 class="text-4xl md:text-5xl font-bold mb-4 font-google-sans-display">
          <span class="text-devfest-yellow">Location &</span>
          <span class="text-devfest-red"> Contatti</span>
        </h2>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-6xl mx-auto">
        <!-- Location Info -->
        <div class="space-y-6">
          <div class="bg-google-grey-50 p-8 rounded-google-xl shadow-material-1 border border-google-grey-200">
            <div class="flex items-start gap-4 mb-4">
              <span class="text-3xl">üìç</span>
              <h3 class="text-2xl font-bold text-google-grey-900">Dove ci troverai</h3>
            </div>
            <p class="text-google-grey-700 text-lg mb-2 font-medium">
              Best Western Plus Hotel Universo
            </p>
            <p class="text-google-grey-600">
              Via Principe Amedeo, 5/B<br />
              00185, Roma
            </p>
          </div>

          <div class="bg-google-grey-50 p-8 rounded-google-xl shadow-material-1 border border-google-grey-200">
            <div class="flex items-start gap-4 mb-4">
              <span class="text-3xl">üïê</span>
              <h3 class="text-2xl font-bold text-google-grey-900">Orari</h3>
            </div>
            <p class="text-google-grey-700 text-lg">
              <strong class="text-google-grey-900">Data:</strong> 25 Ottobre 2025<br />
              <strong class="text-google-grey-900">Orario:</strong> 08:30 - 18:00
            </p>
          </div>

          <div class="bg-google-grey-50 p-8 rounded-google-xl shadow-material-1 border border-google-grey-200">
            <div class="flex items-start gap-4 mb-6">
              <span class="text-3xl">üí¨</span>
              <h3 class="text-2xl font-bold text-google-grey-900">Seguici sui social</h3>
            </div>
            <div class="flex flex-wrap gap-3">
              <!-- LinkedIn -->
              <a 
                href="https://www.linkedin.com/company/gdgromacitta/" 
                target="_blank"
                rel="noopener noreferrer"
                class="bg-blue-700 text-white p-3 rounded-google shadow-material-1 hover:shadow-material-2 transition-all hover:-translate-y-0.5"
                aria-label="LinkedIn"
              >
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
              </a>
              
              <!-- Instagram -->
              <a 
                href="https://www.instagram.com/gdg.roma.citta/" 
                target="_blank"
                rel="noopener noreferrer"
                class="bg-gradient-to-r from-purple-500 to-pink-500 text-white p-3 rounded-google shadow-material-1 hover:shadow-material-2 transition-all hover:-translate-y-0.5"
                aria-label="Instagram"
              >
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/>
                </svg>
              </a>
              
              <!-- Telegram -->
              <a 
                href="https://t.me/gdgRomaCitta" 
                target="_blank"
                rel="noopener noreferrer"
                class="bg-sky-500 text-white p-3 rounded-google shadow-material-1 hover:shadow-material-2 transition-all hover:-translate-y-0.5"
                aria-label="Telegram"
              >
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                </svg>
              </a>
              
              <!-- Google Bevy -->
              <a 
                href="https://gdg.community.dev/gdg-roma-citta/" 
                target="_blank"
                rel="noopener noreferrer"
                class="bg-devfest-blue text-white p-3 rounded-google shadow-material-1 hover:shadow-material-2 transition-all hover:-translate-y-0.5"
                aria-label="Google Bevy"
              >
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"/>
                </svg>
              </a>
            </div>
          </div>
        </div>

        <!-- Map -->
        <div>
          <div class="bg-white p-6 rounded-google-xl shadow-material-2 border border-google-grey-200">
            <div class="flex items-center gap-3 mb-4">
              <span class="text-3xl">üó∫Ô∏è</span>
              <h3 class="text-2xl font-bold text-google-grey-900">Mappa</h3>
            </div>
            <div class="aspect-video w-full rounded-google-lg overflow-hidden shadow-material-1 mb-4">
              <iframe 
                src="https://maps.google.com/maps?q=Best+Western+Plus+Hotel+Universo,+Via+Principe+Amedeo,+5/B,+Roma&output=embed"
                width="100%"
                height="100%"
                style="border:0;"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                title="Mappa della location di DevFest Roma 2025"
              ></iframe>
            </div>
            <p class="text-google-grey-600 text-sm">
              Il venue √® facilmente raggiungibile con i mezzi pubblici. 
              Metro: Linea A, fermata "Congressi" (5 min a piedi).
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-20 bg-gradient-to-br from-devfest-blue via-devfest-red to-devfest-green text-white relative overflow-hidden">
    <!-- Decorative elements -->
    <div class="absolute inset-0 opacity-10">
      <div class="absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"></div>
      <div class="absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"></div>
    </div>
    
    <div class="container mx-auto px-6 text-center relative z-10">
      <h2 class="text-4xl md:text-5xl font-bold mb-6 font-google-sans-display">Pronto per DevFest Roma 2025?</h2>
      <p class="text-xl md:text-2xl mb-10 max-w-2xl mx-auto font-medium">
        Assicurati il tuo posto! I posti sono limitati.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a 
          href="https://gdg.community.dev/events/details/google-gdg-roma-citta-presents-devfest-roma-2025/" 
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center justify-center gap-2 bg-white text-devfest-blue font-medium px-8 py-4 rounded-google-lg shadow-material-3 hover:shadow-material-4 transition-all hover:-translate-y-1"
        >
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"></path>
          </svg>
          Biglietti
        </a>
        <a 
          href="#location" 
          class="inline-flex items-center justify-center gap-2 bg-white/20 backdrop-blur-sm border-2 border-white text-white font-medium px-8 py-4 rounded-google-lg hover:bg-white/30 transition-all"
        >
          Informazioni
        </a>
      </div>
    </div>
  </section>

  <Footer />
</Layout>

<style>
  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Responsive iframe heights for speaker section */
  .speakers-iframe {
    border: none;
    width: 100%;
    display: block;
    /* Mobile: single column layout needs much more height */
    min-height: 5000px;
  }

  /* Tablet and above: grid layout takes less vertical space */
  @media (min-width: 768px) {
    .speakers-iframe {
      min-height: 3500px;
    }
  }

  /* Desktop: more columns, even less height needed */
  @media (min-width: 1024px) {
    .speakers-iframe {
      min-height: 2000px;
    }
  }

  /* Large desktop: maximum columns */
  @media (min-width: 1280px) {
    .speakers-iframe {
      min-height: 1600px;
    }
  }
</style>

<script is:inline>
  // Listen for height messages from Sessionize iframe
  window.addEventListener('message', function(event) {
    // Check if message is from Sessionize
    if (event.origin === 'https://sessionize.com') {
      const iframe = document.getElementById('speakers-iframe');
      if (!iframe) return;
      
      let height = null;
      
      // Try different message formats that Sessionize might use
      if (typeof event.data === 'number') {
        height = event.data;
      } else if (event.data && typeof event.data === 'object') {
        height = event.data.height || event.data.frameHeight || event.data.scrollHeight;
      } else if (typeof event.data === 'string') {
        try {
          const parsed = JSON.parse(event.data);
          height = parsed.height || parsed.frameHeight || parsed.scrollHeight;
        } catch (e) {
          // Not JSON, ignore
        }
      }
      
      if (height && height > 100) {
        iframe.style.height = height + 'px';
        console.log('Iframe height updated to:', height + 'px');
      }
    }
  });
</script>

